<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8" />
    <title>Upload and View PDF</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar">
            <div class="navbar-nav">
                <a class="nav-item nav-link" href="{{ url_for('main') }}">Main info</a>
                <a class="nav-item nav-link" href="{{ url_for('home') }}">Fetch Acts</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1>Upload and View PDF</h1>

        <form action="/upload" method="POST" enctype="multipart/form-data">
            <label for="file">Select a PDF file:</label>
            <input type="file" id="file" name="file" accept=".pdf" required />
            <button type="submit">Upload</button>
        </form>

        <h2 class="mt-4">Fetch Acts:</h2>
        <label for="publisher">Publisher:</label>
        <select id="publisher">
            <option value="DziennikUstaw">Dziennik Ustaw</option>
            <option value="MonitorPolski">Monitor Polski</option>
        </select>
        <label for="year">Year:</label>
        <input type="number" id="year" value="2023" />
        <label for="count">Count:</label>
        <input type="number" id="count" value="10" />
        <button type="button" onclick="fetchActs()">Fetch</button>

        <div id="loader">
            <div class="loader-spinner"></div>
        </div>

        <div class="tree" id="acts-tree"></div>

        <div id="pdf-modal">
            <button id="close-modal">Zamknij</button>
            <div class="nav-buttons">
                <button id="prev-keyword">Previous</button>
                <button id="next-keyword">Next</button>
            </div>
            <div id="modal-content"></div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>

</html>